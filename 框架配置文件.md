##### 注解：@ + 注解名：

# 框架：

## 1、JUnit4：测试框架

```
@Test：测试方法
@before：在测试方法之前执行
@after：在测试方法之后执行
```

断言：是一个Assert类，里面有很多静态方法，可以做出判断。
	满足断言，返回true，运行后返回一个绿色，false返回红色，报错。
	Assert.assertNull("被判断的变量");	//判断是否为空
	String name = null;
	Assert.assertNull("name")
有很多类似的其他方法;



---



## 2、log4j：第三方日志记录框架

> 需要配置文件：在properties文件里修改日志存放的地址、最大日志文件大小等信息。

##### 配置文件log4j.properties：

> 配置文件名不可修改，只能是log4j.properties

```properties
#日志配置，固定写法
#控制输出级别，级别从高到低 trace debug info warn error fatal，表示输出该级别及以上的日志信息
#可以使用off/all,表示关闭日志输出/输出所有级别日志，支持大写OFF/ALL
log4j.rootLogger=控制级别,自定义名,输出磁盘自定义名
#控制只输出固定包内方法的日志
log4j.logger.包名=控制级别,自定义名,输出磁盘自定义名

#固定格式
log4j.appender.自定义名=org.apache.log4j.ConsoleAppender

#控制日志输出内容的格式，具体控制在ConversionPattern中配置
log4j.appender.自定义名.layout=org.apache.log4j.PatternLayout

#%m:打印日志自定义消息 %t:线程，该日志是由哪个线程输出 
#%c:输出日志的类的全路径 %l:具体的代码行数 %n:换行
log4j.appender.自定义名.layout.ConversionPattern=%m [%t] %c [%l]%n

#将日志输出到磁盘
#指定输出的路径
log4j.appender.输出磁盘自定义名.File=自定义磁盘路径
#固定格式
log4j.appender.输出磁盘自定义名=org.apache.log4j.DailyRollingFileAppender
log4j.appender.输出磁盘自定义名.layout=org.apache.log4j.PatternLayout
#控制日志输出内容的格式
log4j.appender.输出磁盘自定义名.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%p] %m [%t] %c [%l]%n
```



##### 示例：

```properties
#日志配置，固定写法
#控制输出级别，级别从高到低 trace debug info warn error fatal，表示输出该级别及以上的日志信息
#可以使用off/all,表示关闭日志输出/输出所有级别日志，支持大写OFF/ALL
log4j.rootLogger=trace,myconsole,myfile

#控制只输出固定包内方法的日志
#log4j.logger.com.blackhker.dao=trace,myconsole,myfile

#固定格式
log4j.appender.myconsole=org.apache.log4j.ConsoleAppender
log4j.appender.myconsole.layout=org.apache.log4j.PatternLayout

#控制日志输出内容的格式
#%m:打印日志自定义消息 %t:线程，该日志由哪个线程输出 %c:类的全路径%l:具体的代码行数 %n:换行
log4j.appender.myconsole.layout.ConversionPattern=%m [%t] %c [%l]%n

#将日志输出到磁盘
#指定输出的路径
log4j.appender.myfile.File=d:/file.log

#固定格式
log4j.appender.myfile=org.apache.log4j.DailyRollingFileAppender
log4j.appender.myfile.layout=org.apache.log4j.PatternLayout

#控制日志输出内容的格式
log4j.appender.myfile.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%p] %m [%t] %c [%l]%n
```



##### 这个框架类的对象不可以直接new：

```java
Logger log = new Logger();		
```



##### 它的构造方法是protect的，官方留了一个getLogger()方法，那么可以：

```java
Logger 对象名 = Logger.getLogger(创建对象的类.class);
```



##### 例如：

```java
class Demo1{
	Logger log = Logger.getLogger("Demo1.class");
}
```



##### 使用就可以log对象的对象名直接调方法：

###### 可以写在catch里：获取到异常打印信息并存储日志

```java
log.trace("触发...异常");
log.debug("触发...异常");
log.info("触发...异常"); 
log.warn("触发...异常"); 
log.error("触发...异常"); 
log.fatal("触发...异常");
log.error("触发...异常");
```



---



## 3、common.io

FileUtils直接打点调用:
	cleanDirectory：清空目录，但不删除目录。

```
contentEquals：比较两个文件的内容是否相同。

copyDirectory：将一个文件夹所有内容拷贝到另一个文件夹。
可以通过FileFilter过滤需要拷贝的文件。

copyFile：将一个文件拷贝到一个新的地址。

copyFileToDirectory：将某文件夹的某一文件拷贝到另一个文件夹下。

copyInputStreamToFile：将一个输入流中的内容拷贝到某个文件。

deleteDirectory：删除目录。

deleteQuietly：删除文件。

listFiles：列出指定目录下的所有文件。

openInputSteam：打开指定文件的输入流。

readFileToString：将文件内容作为字符串返回。

readLines：将文件内容按行返回到一个字符串数组中。

size：返回文件或目录的大小。

write：将字符串内容直接写到文件中。

writeByteArrayToFile:将字节数组内容写到文件中。

writeLines：将容器中的元素的toString方法返回的内容依次写入文件中。

writeStringToFile：将字符串内容写到文件中。
```



---



## 4、JSTL：标签库框架，引入和JS搭配的新网页标签

#### 1.需要添加META-INF标签文件到WEB-INF下

#### 2.需要在页面头声明JSTL(1.2)

```js
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> // 表示使用c标签</c:>
```



##### 遍历从后台返回的响应对象resp的值：

```jsp
ArrayList<Student> students = new ArrayList<Student>();	<!--创建一个学生集合，假设有学生-->
req.setAttribute("list",students)	<!--将集合添加到请求对象中，list是key-->
<!--每遍历一次就将key对应的value(student集合)的一条保存到var临时变量里，可以理解为for循环的i-->
<c:forEach items="${req的key}" var="临时变量"> 
	${临时变量.属性名}
</c:forEach>
<c:forEach items="${list}" var="student"> 
	${student.id}
    ${student.name}	...
</c:forEach>
```



---



## 5、FastJSON

#### 需要实体类

##### 将对象转为JSON：

```java
String userJson = JSON.toJSONString(user);
```



##### 将JSON转对象：

```java
User user = JSON.parseObject(json, User.class);
```



---



## 6、JQuery：优化JS

##### 在线引入JQuery：直接写在HTML里

```html
<script src="https://code.jquery.com/jquery-3.1.1.min.Js"></script>
```



---



## 7、Mybatis：替代JDBC

> 需要配置MySQL驱动(Maven)

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd">	<!--规定了这个文件能写哪些标签-->

<!--在Java中他是一个对象-->
<configuration>
    <!--
        <settings>
            <setting name="logImpl" value="LOG4J" />
        </settings>
    -->
    <!-- 配置mybatis运行环境 -->
    <environments default="development">
        <environment id="development">
            <!-- 使用JDBC的事务管理 -->
            <transactionManager type="JDBC"/>
            <!--数据源-->
            <dataSource type="POOLED">
                <!-- MySQL数据库驱动 -->
                <property name="driver" value="com.mysql.jdbc.Driver"/>
                <!-- 连接数据库的URL -->
                <property name="url" 
                          value="jdbc:mysql://localhost:3306/数据库名?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=GMT%2B8"/>
                <property name="username" value="数据库账户"/>
                <property name="password" value="数据库密码"/>
            </dataSource>
        </environment>
    </environments>

    <!--将mapper文件加入到配置文件中-->
    <mappers>
        <mapper resource="org-mapper.xml"/>
        <mapper class="com.blackhker.IOrgManagerDao"/>
    </mappers>

</configuration>
```

##### xxxMapper.xml

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.mybatis.example.BlogMapper">
  <select id="selectBlog" resultType="Blog">
    select * from Blog where id = #{id}
  </select>
</mapper>
```



---



## 8、Spring：框架全家桶

##### bean：Spring、SpringMVC的config.xml文档头配置

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:context="http://www.springframework.org/schema/context" 
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xsi:schemaLocation="http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/aop 
	http://www.springframework.org/schema/aop/spring-aop.xsd
	http://www.springframework.org/schema/tx 
	http://www.springframework.org/schema/tx/spring-tx.xsd
	http://www.springframework.org/schema/context 
	http://www.springframework.org/schema/context/spring-context.xsd 
	<!--MVC约束，复制粘贴时删除此注解-->
    http://www.springframework.org/schema/mvc 
	http://www.springframework.org/schema/mvc/spring-mvc.xsd" >
    
    <!--配置XML的语句写在这里-->
    <!--注解扫描器，指定包路径：被Controller、Component、Service等注解的对象-->
	<context:component-scan base-package="com.blackhker.community"/> 
</beans>
```







## 9、SpringMVC：替代Servlet

##### springmvc-config.xml：

```xml
<!--加载springmvc的注解驱动-->
<!--代表开启SpringMVC的注解驱动。允许通过注解方式开发。 必须加-->
<mvc:annotation-driven>
<!--@ResponseBody注解需要的<mvc:message-converters>和两个<Bean>-->
<!--
	配合Jackson(annotations,core,databind三个jar包)，会将该方法各种返回值：对象、List集合、Map集合	 转换为JSON格式的字符串返回给前端
-->
<mvc:message-converters>
	<bean class="org.springframework.http.converter.StringHttpMessageConverter"></bean>
	<bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">		</bean>
</mvc:message-converters>
</mvc:annotation-driven>
<!--创建注解扫描器-->
<!--待会SpringMVC会自动扫描com.blackhker.controller，以及子包，然后初始化-->
<context:component-scan base-package="com.blackhker"></context:component-scan>

<!--让SpringMVC过滤掉所有静态资源-->
<!-- <mvc:default-servlet-handler></mvc:default-servlet-handler> -->
```

##### 示例：

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans.xsd 
       http://www.springframework.org/schema/mvc 
       https://www.springframework.org/schema/mvc/spring-mvc.xsd 
       http://www.springframework.org/schema/context 
       https://www.springframework.org/schema/context/spring-context.xsd">

    <!--第一步，要把我们自定义的LoginController创建一个实例-->

    <!--注解放在那里是个摆设，写一个注解解析器就有用了-->
    <!--代表开启SpringMVC的注解驱动。允许通过注解方式开发。 必须加-->
    <mvc:annotation-driven>
        <mvc:message-converters>
            <bean class="org.springframework.http.converter.StringHttpMessageConverter"></bean>
            <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"></bean>
        </mvc:message-converters>
    </mvc:annotation-driven>

    <!--待会SpringMVC会自动扫描com.blackhker下的所有类，带@Controller，以及子包，然后初始化-->
    <context:component-scan base-package="com.blackhker.community"></context:component-scan>

    <!--让SpringMVC过滤掉所有静态资源-->
    <!--创建了一个：DefaultServletHttpRequestHandler对象-->
    <mvc:default-servlet-handler></mvc:default-servlet-handler>

</beans>
```





##### web.xml:

```xml
<web-app>
    <!--配置一个中央控制器DispacherServlet-->
    <servlet>
        <servlet-name>dispacherServlet</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <!--MyBatis也有核心配置文件：MyBatis-config.xml-->
        <!--SpringMVC核心配置文件：SpringMVC-config.xml(放在resources里)-->
        <!--用SpringMVC这个xml配置文件配置为Servlet进行初始化-->
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <!--<param-value>classpath:springMVC的文件名全名</param-value>-->
            <param-value>classpath:springmvc-config.xml</param-value>
        </init-param>
    </servlet>

    <!--配置映射地址-->
    <servlet-mapping>
        <!--<servlet-name>中央控制器名</servlet-name>-->
        <servlet-name>dispacherServlet</servlet-name>
        <!--http://localhost:8080/mvc/index.html 不需要-->
        <!--/代表带有后缀名的不进入控制器-->
        <!--代表所有请求都不进入控制器-->
        <url-pattern>/</url-pattern>
    </servlet-mapping>
</web-app>
```



---



## 10、THymeleaf：替代JSP

```xml
<!--引入代码提示-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
```



---



## 11、SpringBoot：一站式Spring、SpringMVC、MyBatisPlus

##### application.properties配置文件：

```properties
# ===================SpringBoot配置==============================
# 项目名称
#spring.application.name=qq
# tomcat端口
#server.port=9090
# 热部署生效
spring.devtools.restart.enabled=true
# 设置重启目录
spring.devtools.restart.additional-paths=src/main/java
# 设置classpath目录下的WEB-INF 文件夹下的内容修改不重启
spring.devtools.restart.exclude=static/**
# ===================配置数据源连接池为德鲁伊========================
spring.datasource.type=com.alibaba.druid.pool.DruidDataSource
# 线程池初始大小20个连接
spring.datasource.initialSize=50
# 线程池最小20个连接
spring.datasource.minIdle=50
# 线程池最多100个连接
spring.datasource.maxActive=100
#  配置获取连接等待超时的时间，60秒
spring.datasource.maxWait=60000
# 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，60秒检测一次
spring.datasource.timeBetweenEvictionRunsMillis=60000
# ===========================配置JDBC驱动类===========================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# 配置数据库账号
spring.datasource.username=root
# 配置数据库密码
spring.datasource.password=root
# 配置数据库连接字符串
spring.datasource.url=jdbc:mysql://localhost:3306/qqmaster?characterEncoding=utf-8&useSSL=true
# =============================配置MyBatisPlus==================================
# 配置打印到控制台的日志组件
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
# 自动开启驼峰命名法映射 user_name - > userName
mybatis-plus.configuration.map-underscore-to-camel-case=true
# 如果是老项目用的mybatis升级为mp的，可以继续沿用之前的xml配置
# mybatis-plus.config-location=classpath:mybatis-config.xml
# 如果是老项目用的mybatis升级为mp的，可以继续沿用之前写好的Mapper.xml文件的路径
# mybatis-plus.mapper-locations = classpath*:mapper/*.xml
# 是否开启mybatis的二级缓存，默认为true
mybatis-plus.configuration.cache-enabled=true
# mybatis全局的非空判断策略，默认not_null
# mybatis-plus.global-config.db-config.update-strategy=not_null
# mybatis-plus.global-config.db-config.insert-strategy=not_null
# mybatis-plus.global-config.db-config.where-strategy=not_null
# 配置全局id自增长的策略
mybatis-plus.global-config.db-config.id-type=assign_id
# ==============thymeleaf模板引擎配置，不配置默认从templates下寻找==================
spring.mvc.static-path-pattern=/**
# 默认对所有该文件夹下起效果
spring.web.resources.static-locations=classpath:/static/
# 前缀
spring.thymeleaf.prefix=classpath:/static/
# 后缀
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false
spring.main.allow-circular-references=true
```



##### application.yml配置文件：

```yml
spring:
  application:
    # 项目名
    name: mall
  # 数据源
  datasource:
  	# 输入Driver自动提示
    # 8.x选择带cj的，5.x选择不带的
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/数据库名?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC
    username: root
    password: root
  # 配置静态资源路径
  resources:
    static-locations: /META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,file:盘符:\地址
  # redis
  redis:
    # ip地址
    host: localhost
    # 端口号
    port: 6379
  # servlet
  servlet:
    # 配置文件上传大小限制
    multipart:
      #最大文件大小
      max-file-size: 200MB
      max-request-size: 200MB
server:	
  # 项目端口号
  port: 8080
# sl4j日志
logging:
  level:
    # 指定包下面的所有类的日志级别为debug，其它包的还是info，好处是减少日志的信息输出，方便观察自己的日志信息
    com.公司名.项目名: debug
# MyBatis
mybatis:
  # 实体类前缀(别名)
  type-aliases-package: com.公司名.项目名.entity
  # 配置mapper.xml文件路径
  mapper-locations: classpath:mapper/*.xml
# 分页插件
pagehelper:
  # 配置方言为MySQL
  helper-dialect: mysql
  reasonable: true
  support-methods-arguments: true
  params: count=countsql
# MinIO
minio:
  # IP:端口号
  endpoint: http://192.168.15.167:9000
  # 账号
  accesskey: minioadmin
  # 密码
  secretKey: minioadmin
  # 桶名
  bucketName: mall
```



##### 配置SpringBoot启动画面：

在resource创建一个banner.txt文件：写入想要在SpringBoot启动时展示的画面

```txt
——————————————————————————————————————————————————————————
                        ....,...
                        ..=@@^...
                    . .../O@@\...
                    ..../O`=O@@\.
               .... ....OOO`,\@@................
                . ......=@`./OO@................
       .  ..    . ......=OOOOO@^........]]]......
     .......    .........\\OO@@@@@@OOOO@,/OO@@@`.
    ...,O`..........,/[O@@@@@@@@@@@@@@@@[/@@@@@^.
    ..,[[O@OO\...../@@@@@@@@@@@@@/O@@@@@@[[[[[..
    ...../OOO@@@@@@@@@@@@@\OO@@@O\O@@^........ .
    ........=@@@@@@@@@@@@@@OOO@\@O\@@...........
        .......,[`.....=@@@@@@@O@@@@^....
            ............,@@@@@@@@O@@`....
               ..........=@@@@@OO@@@.....
                ........,@@@@@@@@@@@\...
       ...............,@@@@@@@@@@@@@@@`.........
       ..........]@@@@@@@@@@@@@@@@O@@@@@@@]......
        .....,/O@@O@@@@@@@O@@@@@@@OO@@@@@@@O@\`.....
       ....,@/OOO@@@@@@@@@@@@/[[@@@@OO@@@@@@`\@O\...
.........,\@OOO@/`............ ......[\@@@@@@OOOO@......
......../@@OO@`.........            .........\@@@@\.....
......,@@@O@`............              .......=@@@@......
...../@@@/..............               ........\@@@......
...,/@@/......    ...                       ....@@@^.....
../O@@`.                                       .@@@@@@]..
,\@@@[..                                       ..[[[O@@@/
           奥特曼保佑       永不宕机        永无BUG
——————————————————————————————————————————————————————————
```

