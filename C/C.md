## C

> 二进制 → 汇编指令(助记符) → VB → C
>
> 编译器：Clang、**GCC**、WIN-TC、**MSVC**、Turbo C

### 一、基础项目构建

> 展示使用VS2022(Visual Studio)

#### 1.1 新建项目

1. 初始页创建新项目

![image-20231123161401763](A:\Typora\TyporaPicture\image-20231123161401763.png)

2. 选择空项目

![image-20231123161607812](A:\Typora\TyporaPicture\image-20231123161607812.png)

3. 配置路径信息，创建

![image-20231123161858875](A:\Typora\TyporaPicture\image-20231123161858875.png)





#### 1.2 创建不同源文件

> C文件分为.c(源码)、.h(头文件，可以理解为Java类+接口)

所有文件均可以在解决方案资源管理器中创建：

![image-20231123162349780](A:\Typora\TyporaPicture\image-20231123162349780.png)

##### .c文件的创建

1. 源文件 → 添加 → 新建项

![image-20231123162629570](A:\Typora\TyporaPicture\image-20231123162629570.png)

2. 选择C++文件，<font color="#f40">修改后缀名</font>

> 如果不是这个页面，那么点击显示所有模板即可，默认.cpp(c plus plus C++)注意修改为.c(C)

![image-20231123162804084](A:\Typora\TyporaPicture\image-20231123162804084.png)

3. 模板代码

   > stdio的解释：std：标准    i：input(输入)    o：output(输出)

   ```c
   #include <stdio.h>
   
   int main()
   {
       printf("BHKDOS\n");
       
       return 0;
   }
   ```

   



##### .h文件的创建





---



### 二、基础数据类型

#### 2.1 整型

##### 2.1.1 short

短整型，占用2个字节



##### 2.1.2 int

整型，占用2或4个字节，一般为四个字节，一些嵌入式系统中的编译器可能将int类型设置为占用2个字节



##### 2.1.3 long

长整型，占用4或8个字节，在32位平台上占用4个字节，而在64位平台上占用8个字节。



##### 2.1.4 long long int

> 简写为long long

长长整型，占用8个字节



#### 2.2 浮点数

##### 2.2.1 float

单精度浮点数，占用4个字节



##### 2.2.2 double

双精度浮点数，占用8个字节



#### 2.3 字符型

##### 2.3.1 char

字符，在不同编码中占不同字节：ASCII占1字节，UTF-8占1-4字节(中文等非ASCII占3-4字节)



---



### 三、变量/常量

#### 3.1 变量

变量表示可变的量，类似于Java中非final、static修饰的参数





#### 3.2 变量的作用域

##### 3.2.1 局部变量

同Java，函数(方法)内部定义的变量，只能在函数内部(花括号{}为界)使用，函数外无法访问



##### 3.2.2 全局变量

函数(方法)外部定义的变量，可以被其他函数访问，作用域是整个工程(extern 引入)



##### 3.2.3 extern关键字

引入外部变量，实现的是类似于`#include`的功能，在C语言中表示该变量是在外部定义的

**实例**

num.c

```c
int x = 8;
```

calculator.c

```c
#include <stdio.h>

/* 声明变量a是来自外部定义的参数 */
extern int a;

int main()
{
    /* 打印a = 8 */
    printf("a的值为：%d", a);
}
```



##### 3.2.4 注意事项

1. 在C语言中，同类型相同命名的变量，不能重复出现：

```c
/* 重复定义错误 */
int a = 8;
int a = 8;
```

2. 局部变量和全局变量是可以重名的，调用遵循就近原则

```c
/* 打印值为局部变量的值:88 */
int a = 8;
void print_num()
{
    int a = 88;
    printf("a = %d", a);
}
```





#### 3.3 变量的生命周期

##### 3.3.1 局部变量

生命周期取决于作用域大小，进入作用域生命周期开始，退出作用域生命周期结束



##### 3.3.2 全局变量

在整个程序的生命周期中，程序不结束，变量不释放





#### 3.4 常量

##### 3.4.1 字面常量

一个确定的值，没有对应的标识符(变量名)去接收：

```c
int main()
{
    8;
    8.88;
    'x';
    "blackhker";   
}
```



##### 3.4.2 const关键字(常变量)

const修饰的变量不可修改，本质上就是一个常量，我们对这种变量成为常变量，可以理解为Java中的final

> 底层原理：
>
> 

**实例**：

```c
/* 报错，const左值不可赋值 */
#include <stdio.h>

int main()
{
    const int a = 8;
    a = 10;
    printf("a = %d", a);
    
    return 0;
}
```



##### 3.4.3 define 标识符常量

直接定义死的一个常量，可以理解为Java 中的static final，跟全局常变量的区别是不进入编译，所以不占用内存，并且define标识符定义的参数是无类型的，且后期不可修改

> define标识符常量命名，必须全部大写

```c
#define MAX = 8;

int main()
{
    printf("MAX = %d", MAX);
    int a = MAX;
    printf("a = %d\n", a);
    
    return 0;
}
```



##### 3.4.4 枚举常量

枚举常量的值是定义好的，只能是枚举内列出的值，不可更改

```c
enum num
{   
    /* 枚举常量 */
    8;
    88;
    888;
};

int main()
{
    enum num a = 8;
    enum num b = 88;
    enum num c = 888;
    printf("a = %d\n b = %d\n c = %d\n", a, b, c);
}
```



---

