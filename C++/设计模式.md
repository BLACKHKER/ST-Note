## C++设计模式

### 一、单例模式

#### 1.1 普通单例

```c++
#include <iostream>

class Singleton
{
private:
	/* 定义一个私有静态指针变量 */
	static Singleton* s_instance;
public:
	/**
	 * 获取实例指针的函数
	 * 
	 * @return 对象的引用
	 */
	static Singleton& getInstance()
	{
		return *s_instance;
	}

	void hello()
	{
		std::cout << "Hello World!" << std::endl;
	}
};

Singleton* Singleton::s_instance = nullptr;

int main()
{
	Singleton s = Singleton::getInstance();
	s.hello();
}
```



#### 1.2 局部静态单例

```c++
#include <iostream>

class Singleton
{
public:
	/**
	 * 获取实例指针的函数
	 * 
	 * @return 对象的引用
	 */
	static Singleton& getInstance()
	{
		/* 定义一个局部静态变量 */
		static Singleton instance;
		return instance;
	}

	void hello()
	{
		std::cout << "Hello World!" << std::endl;
	}
};

int main()
{
	Singleton s = Singleton::getInstance();
	s.hello();
}
```

