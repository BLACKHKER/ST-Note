## idea运行WEB项目，光标自动跳转：

##### Automatically show first error in editor：该功能表示自动显示编辑器中的第一个错误。取消勾选。

![image-20230213114536762](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/JSKe4OlEy62mpFs.png)

```

```



---





## 解决Tomcat控制台、静态页面(非JSP)中文乱码问题

#### 1、控制台乱码

##### 定位apache-tomcat-9.0.24\conf\logging文件，将里面的UTF-8全部改成GBK即可

![img](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/yxJnZI6qUFeNEvK.png)

#### 2、web页面乱码

##### 1.定位apache-tomcat-9.0.24\bin\catalina文件，打开并在最上方@echo off的下面加上以下代码

```
set "JAVA_OPTS=%JAVA_OPTS% %JSSE_OPTS%  -Dfile.encoding=UTF-8"
```

![img](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/4WcOazmVF79iPDB.png)



##### 2.定位apache-tomcat-9.0.24\conf\server文件，在下图位置加上代码即可

```
useBodyEncodingForURI="true" URIEncoding="UTF-8"
```



##### 3.页面(浏览器)清除缓存（ctrl+shift+del），重新刷新即可





---





## IDEA中文输出乱码

### 1 问题

当我们敲完代码且当代码中包含有中文运行代码时，控制台输出的结果为乱码。

![图片](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/6yHhaF9u1QKc3pZ.png)

### **2** 方法

#### 方法一：

打开 File --> settings --> Editor --> File Encodings

把编码都设置为 UTF-8 的形式

![图片](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/RlyxLWei8JbF5m2.png)

#### 方法二：

打开idea的设置界面，搜索 maven ，点击 Maven --> Runner --> VM Options ，填上:

```
-Dfile.encoding=GB2312
```

![图片](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/RPEbaxJpHoenwZB.png)

#### 方法三：

> 未找到此设置

打开 Run --> Edit Configurations --> 选择文件

在 VM options 中加上 -Dfile.encoding=UTF-8

最后若以上都没有解决，则是开发工具和系统环境编码格式不匹配即为jdk版本过高，可以更换为上一版本的jdk

#### **3** 结语

针对IDEA出现中文乱码的问题，提出修改编码方式为UTF-8或GB2312，更改JDK版本的方法，通过具体的修改编码和更改jdk版本的实验，证明此类方法是有效的，当然还有其他解决此类问题的方法，未来可以继续研究还有哪些办法能够修改中文乱码。





---





## 往数据库中插入时间时，差了八个小时（时区设置）

#### 在往数据库中插入（读取）时间的时候，会相差八个小时，原因是因为时区设置的问题：

##### UTC：**C**oordinated **U**niversal **T**ime 协调世界时。

##### GMT：**G**reenwich **M**ean **T**ime 格林尼治标准时间。（在协调世界时意义上的0时区，即GMT = UTC+0）

中国的时间是【东八区】，比GMT多八个小时，即 GMT+8（或UTC+8，但习惯上还是用GMT+8）



##### 我们的系统时间是东八区，而我们连接数据库的时候若写成这样：

![img](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/z5mbPDaZKUoMTyA.png)

##### 那么程序就会自动将我们获取到的系统时间减去八小时存入数据库，这就是数据库存取时间差距八小时的原因





#### 解决方法：

##### 将serverTimezone=UTC改为serverTimezone=GMT%2b8即可（GMT%2b8是GMT+8的意思）

![img](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/DrwHJBlpxzWYSki.png)





---





## MyBatisPlus执行Insert执行两次

#### 取消勾选：将IDE构建/运行操作委托给Maven

![image-20230221180135991](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/vAXNTJaOdwPVBQk.png)

#### 或者勾选Skip Tests，跳过测试类

![image-20230221190452443](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/eokJs4ubR5TAx9M.png)





---





## vue报错：This dependency was not found:* vue-editor-bridge

删除该代码，改行代码为VSCode自动添加的

```script
import func from 'vue-editor-bridge'
```





---





## You can't specify target table '表名' for update in FROM clause

> 只有MySQL不支持这种情况

##### 修改表的数据，获取该表的数据去更新该表：

```SQL
-- 报错示例
UPDATE cart 
SET num = (SELECT num FROM cart WHERE uid = 1 AND gid = 1) + 1
```

##### 不能对进行查询操作的表进行update、delete等修改数据的操作，where条件中进行了子查询，并且子查询也是针对需要进行update操作的表的，mysql不支持这种查询修改的方式，可以曲线救国(子查询外嵌套子查询)

```SQL
-- 注意嵌套的子查询需要AS一下修改列名，以下示例AS列名为num1
-- 根据用户id(uid)和商品id(gid)查询出当前购物车的数量，增加该商品在购物车的数量(+1)
UPDATE cart 
SET num = (SELECT num FROM(SELECT num FROM cart WHERE uid = 1 AND gid = 1) AS num1) + 1
WHERE uid = 1 
AND gid = 1
```





---





## 解决Vue重复点击相同路由控制台报错的问题

```js
//获取原型对象上的push函数
const originalPush = Router.prototype.push
//修改原型对象中的push方法
Router.prototype.push = function push(location) {
  return originalPush.call(this, location).catch(err => err)
}
// 放在这上面
Vue.use(Router)
```





---





## VSCode执行npm run build打包失败

##### 打包出现以下信息，或直接打包报错

![image-20230317095621896](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303170958944.png)



##### 注释掉该代码

![image-20230317095743685](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303170958128.png)



##### 添加新代码

![image-20230317095814296](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303170958160.png)





---





## Linux安装完没有ip地址

> curl: (6)Could not resolve host: packages . wazuh .com;Unknowm error 
>
> CURL：(6)无法解析主机：包packages . wazuh .com。未知数错误

##### 没有ip的状态：

![image-20230320110858575](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303201114500.png)



##### 切换到配置文件目录

```shell
cd /etc/sysconfig/network-scripts/
```



#####  ls 查看network-scripts文件夹下ifcfg-enp0s3(不同电脑可能有不同的名字，根据自己电脑进行查看)

![image-20230320111053507](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303201115522.png)



##### 使用vi编辑ifcfg-enp0s3  把ONBOOT=no改为ONBOOT=yes(注意此时要**提供管理员用户**，先切到管理员用户即可更改ifcfg-enp0s3,普通用户不允许修改保存ifcfg-enp0s3) 

```shell
vi ifcfg-enp0s3 
```

![image-20230320111145597](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303201115348.png)





##### 保存退出后，重启网络服务

```shell
sudo service network restart
```

![image-20230320111316435](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303201115791.png)



##### 再次查询ip

```shell
ip addr
```

![image-20230320111404027](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202303201115588.png)





---





## CentOS7.x：CURL工具使用失效重装

#### 问题现象：curl xxx:-bash: curl: command not found

##### 安装：

```shell
yum -y install curl 
```

提示软件包 curl-7.29.0-59.el7_9.1.x86_64 已安装并且是最新版本，无须任何处理

![image-20230412161807391](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121621221.png)



##### 查询

```shell
rpm -qa|grep curl
```

###### 输出：

```shell
python-pycurl-7.19.0-19.el7.x86_64
libcurl-7.29.0-59.el7_9.1.x86_64
curl-7.29.0-59.el7_9.1.x86_64
```

![image-20230412161834203](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121621760.png)

的确已经安装了



##### 还是无法正常使用

```shell
curl --version	# -bash: curl: command not found
```

![image-20230412161851129](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121621927.png)



#### 解决方案

##### 卸载重装：

```shell
rpm -e --nodeps curl	# 警告：文件 /usr/bin/curl: 移除失败: 没有那个文件或目录
```

![image-20230412161915069](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622851.png)



##### 移除：

```shell
yum remove curl
```

![image-20230412161954152](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622816.png)



##### 查看卸载结果：

```shell
rpm -qa|grep curl
#	python-pycurl-7.19.0-19.el7.x86_64
#	bcurl-7.29.0-59.el7_9.1.x86_64
```

![image-20230412162019716](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622339.png)



##### 重新安装：

```shell
yum -y install curl
```

![image-20230412162111405](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622847.png)

![image-20230412162128580](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622889.png)



##### 验证：

```shell
curl icanhazip.com     -- 查看服务器公网IP	# 42.192.xxx.xxx
curl --version		   -- 查看curl版本
# curl 7.29.0 (x86_64-redhat-linux-gnu) libcurl/7.29.0 NSS/3.53.1 zlib/1.2.7 libidn/1.28 libssh2/1.8.0
```

![image-20230412162139963](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/202304121622931.png)





---





## Git在控制台中文乱码

### 乱码情景对号入座和解决方案

### 乱码情景1

> 在cygwin中，使用git add添加要提交的文件的时候，如果文件名是中文，会显示形如 `\274\232\350\256\256\346\200\273\347\273\223.png` 的乱码。

##### 解决方案：

在bash提示符下输入：

```fallback
git config --global core.quotepath false
```

core.quotepath设为false的话，就不会对0x80以上的字符进行quote。中文显示正常。







### 乱码情景2

> 使用git log显示提交的中文log乱码。

##### 解决方案：

###### 设置git gui的界面编码

```shell
git config --global gui.encoding utf-8
```

###### 设置 commit log 提交时使用 utf-8 编码，可避免服务器上乱码，同时与linux上的提交保持一致！

```shell
git config --global i18n.commitencoding utf-8
```

###### 使得在 $ git log 时将 utf-8 编码转换成 gbk 编码，解决Msys bash中git log 乱码。

```shell
git config --global i18n.logoutputencoding utf-8
```

###### 使得 git log 可以正常显示中文（配合i18n.logoutputencoding = gbk)，在 `/etc/profile` 中添加：

```shell
# bash 环境下(临时生效)
export LESSCHARSET=utf-8
# cmd环境下(需要管理员权限)永久生效：
setx "LESSCHARSET" "utf-8" /m
```







### 乱码情景3

> 在MsysGit自带的bash中，使用ls命令查看中文文件名乱码。cygwin没有这个问题。

##### 解决方案：

使用ls --show-control-chars命令来强制使用控制台字符编码显示文件名，即可查看中文文件名。

##### 可以编辑该文件：

```
/etc/git-completion.bash 
```



##### 新增一行 

```
alias ls="ls --show-control-chars"
```





### 终极解决方案

终极的解决方案是通过修改git和TortoiseGit源码实现，有网友这么做了：[让Windows下Git和TortoiseGit支持中文文件名/UTF-8](http://www.cnblogs.com/tinyfish/archive/2010/12/17/1909463.html) ，也可以直接访问这个开源的Google项目：[utf8-git-on-windows](http://code.google.com/p/utf8-git-on-windows) 。

如果不抗拒命令行的话，直接用Cygwin来提交Git库。因为Cygwin其实是一个在Windows平台上的模拟器，它完全模拟GNU/Linux的方式运行，所以Cygwin中的Git是采用UTF-8编码来保存中文的。







### 又一个“终极”解决方案（msysGit1.7.10之后，不再推荐此方案）

在操作git时，把区域设置修改为 中文GBK。这之后就可以进行git相关操作了

**在终端中跟windows保持一致**

```shell
1export LC_ALL=zh_CN.GBK; export LANG=zh_CN.GBK
2terminal -> set charactor encoding -> gbk
```



##### 切换回linux默认

```shell
1export LC_ALL=en_US.utf8; export LANG=en_US.utf8
2terminal -> set charactor encoding -> unicode(utf-8)
```



##### 改变文件名的编码

如果已经造成乱码的恶果，还可以在utf8和gbk之间切换文件名。真的修改，而不是像上面那样修改显示的（解码的）效果。

```shell
1convmv <filename> -f utf8 -t gbk
```

例外：convmv在fat32的U盘上运行无效，估计是fat32不允许非法编码。





---





## idea中maven红色没正确识别变蓝色

打开项目对应pom.xml，右键，add maven project即可





---





## idea创建类自动注释

#### 打开设置 → Editor → File and Code Templates → includes

![image-20230625193153668](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/image-20230625193153668.png)

```java
/**
 * @Author BLACKHKER
 * @Date ${DATE} ${TIME}
 * @PackageName:${PACKAGE_NAME}
 * @ClassName: ${NAME}
 * @Description: TODO
 * @Version 1.0
 */
```





---





## 解决重复点击相同路由控制台报错的问题

> 粘贴在Vue. Use(Router)上面

```js
// 获取原型对象上的push函数
const originalPush = Router.prototype.push
// 修改原型对象中的push方法
Router.prototype.push = function push(location) {
  return originalPush.call(this, location).catch(err => err)
}
Vue.use(Router)
```





---





## Idea中yml配置文件中文乱码

设置 → Editor → 将两个都改为UTF-8

> 修改完后配置文件中的中文会变成乱码，重新编写即可

![image-20230713230708611](https://typora-picture-zhao.oss-cn-beijing.aliyuncs.com/Typora/image-20230713230708611.png)





---





## 过滤器执行两次

前端发送了两次请求，浏览器发送了一个预检请求(OPTIONS请求)和实际请求。这是因为跨域资源共享(CORS)策略要求在发送某些类型的跨域请求之前，浏览器必须先发送一个预检请求。

预检请求的方法是OPTIONS，主要用于确认服务器是否允许原始请求。一旦服务器响应确认可以，浏览器才会发出实际的HTTP请求。这就是为什么过滤器执行两次，尤其是当请求方法是PUT或DELETE等需要预检的类型时。

调用以下方法查看是否包含OPTIONS请求：

```java
log.debug(req.getMethod() + " " + uri);
```





-----







-----









